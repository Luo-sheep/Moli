:root{--bg:#0f172a;--card:#111827;--text:#e5e7eb;--muted:#9ca3af;--accent:#22c55e;--border:#1f2937}
[data-theme="light"]{--bg:#F5F1E6;--card:#ffffff;--text:#333333;--muted:#666666;--accent:#C63D2F;--border:#e8dfc8}
[data-theme="gufeng"]{--bg:#f8f4e6;--card:#fffaf0;--text:#3b2f2f;--muted:#6b5b4b;--accent:#b22222;--border:#e3d5b8}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.app-header{position:sticky;top:0;z-index:1000;border-bottom:1px solid var(--border);backdrop-filter:blur(6px);background:linear-gradient(180deg,rgba(0,0,0,0.15),rgba(0,0,0,0));}
[data-theme="light"] .app-header{background:linear-gradient(180deg,rgba(198,61,47,0.08),rgba(198,61,47,0));}
[data-theme="gufeng"] .app-header{background:linear-gradient(180deg,rgba(178,34,34,0.08),rgba(178,34,34,0));}
.header-inner{max-width:980px;margin:0 auto;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;gap:16px}
.brand{display:flex;flex-direction:column;gap:4px}
.app-header h1{margin:0;font-size:24px;letter-spacing:0.5px}
.app-header h1::after{content:'';display:block;width:36px;height:2px;background:var(--accent);margin-top:6px;border-radius:2px}
.slogan{font-size:0.9em;display:block;margin:0;opacity:0.9}
.header-actions{display:flex;gap:8px}
.container{max-width:980px;margin:0 auto;padding:16px;display:grid;gap:16px}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px}
.card h2{display:flex;align-items:center;gap:8px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.inline{display:flex;gap:8px;flex-wrap:wrap}
label{display:flex;flex-direction:column;gap:6px}
input,select,textarea,button{background:var(--card);color:var(--text);border:1px solid var(--border);border-radius:8px;padding:10px}
button{background:var(--accent);color:#ffffff;border:none;cursor:pointer}
button:hover{filter:brightness(1.1)}
.list{list-style:none;margin:12px 0 0;padding:0;display:grid;gap:8px}
.list li{border:1px dashed var(--border);border-radius:8px;padding:10px;display:flex;justify-content:space-between;align-items:center}
.list .meta{color:var(--muted);font-size:12px}
.output{white-space:pre-wrap;border:1px solid var(--border);border-radius:8px;padding:12px;margin-top:12px;background:var(--card)}
.muted{color:var(--muted)}
[data-theme="light"] .output{background:#fff}
.tag{display:inline-block;background:#e9ecef;color:#333;padding:4px 8px;border-radius:12px;margin:4px;border:1px solid var(--border)}
[data-theme="light"] .tag{background:#eee;color:#333}
.toast{position:fixed;right:16px;bottom:16px;background:var(--accent);color:#fff;padding:10px 14px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.25);display:none;z-index:9999}
.badge{display:inline-block;background:#333;color:#fff;border-radius:999px;padding:4px 10px;font-size:12px}
[data-theme="light"] .badge{background:#C63D2F;color:#fff}
[data-theme="gufeng"] .badge{background:var(--accent);color:#fff}
.avatar{width:36px;height:36px;border-radius:50%;background:var(--accent);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600}
.timeline-item{border:1px dashed var(--border);border-radius:8px;padding:10px;margin-top:8px;display:flex;justify-content:space-between;align-items:center;gap:12px}
.timeline-item .meta{color:var(--muted);font-size:12px}
.progress{width:160px;height:8px;background:rgba(0,0,0,0.2);border-radius:999px;overflow:hidden;border:1px solid var(--border)}
.progress-bar{height:100%;background:var(--accent);}
@media print{
  body{background:#fff;color:#111}
  .app-header{border:none;background:#fff}
  .header-inner{padding:0 0 8px 0}
  .header-actions{display:none}
  .container{max-width:800px}
  .card{border:none;box-shadow:none;background:#fff}
  .output{background:#fff;border:1px solid #ddd}
}
@media(max-width:640px){.container{padding:12px}.card{padding:12px}}
@media(max-width:640px){.timeline-item{flex-direction:column;align-items:flex-start}}
details{border:1px solid var(--border);border-radius:8px;background:var(--card);padding:8px;margin-top:12px}
details>summary{cursor:pointer;list-style:none;font-weight:600;color:var(--text);padding:6px 4px;display:flex;align-items:center;gap:8px}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:'â€º';display:inline-block;transform:rotate(0deg);transition:transform .2s}
details[open]>summary::before{transform:rotate(90deg)}
details .grid,details .inline,details .output,details .list{margin-top:8px}
